{"version":3,"sources":["components/Filter/index.jsx","components/Sort/index.jsx","utilities/date.js","components/Ticket/index.jsx","components/Tickets/index.jsx","App.jsx","logo.png","components/Theme/Theme.jsx","reportWebVitals.js","index.js"],"names":["Wrapper","styled","section","props","theme","color","white","Title","h2","black","Checkbox","input","Label","label","blue","Filter","stopsCount","handleChange","id","name","type","checked","all","onChange","htmlFor","Fieldset","fieldset","Radio","Sort","sort","value","convertToTime","dateString","date","Date","hours","getHours","toString","padStart","minutes","getMinutes","convertToDuration","Math","floor","restMinutes","totalHours","totalMinutes","trim","article","Price","div","Logo","img","InfoList","dl","InfoTitle","dt","gullGray","InfoDescription","dd","Ticket","price","ticket","Intl","NumberFormat","style","currency","format","replace","src","carrier","alt","segments","map","segment","origin","destination","join","duration","stops","length","uuid","Tickets","searchId","params","useState","tickets","setTickets","displayedTickets","setDisplayedTickets","finished","setFinished","useEffect","fetchTickets","a","axios","get","response","prevTickets","data","stop","status","filter","ticketStopsCount","Object","entries","key","Number","stopCount","includes","b","aDuration","reduce","acc","bDuration","slice","StyledApp","Header","header","Main","main","Aside","aside","App","setSearchId","0","1","2","3","setParams","fetchSearchId","target","prevParams","updatedStopsCount","every","Theme","children","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7fc6bf43.chunk.js","sourcesContent":["/* eslint-disable react/prop-types */\nimport React from 'react';\nimport styled from 'styled-components';\n\nconst Wrapper = styled.section`\n  padding: 20px 0;\n  background: ${(props) => props.theme.color.white};\n  border-radius: 5px;\n  box-shadow: 0px 2px 8px rgba(0, 0, 0, .1);\n`;\n\nconst Title = styled.h2`\n  box-sizing: border-box;\n  margin: 0 0 20px;\n  padding: 0 20px;\n  color: ${(props) => props.theme.color.black};\n  font-weight: 600;\n  font-size: 12px;\n  line-height: 1;\n  letter-spacing: .5px;\n  text-transform: uppercase;\n`;\n\nconst Checkbox = styled.input`\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  margin: -1px;\n  clip: rect(0 0 0 0);\n`;\n\nconst Label = styled.label`\n  position: relative;\n  display: block;\n  box-sizing: border-box;\n  padding: 0 20px 0 50px;\n  color: ${(props) => props.theme.color.black};\n  font-size: 13px;\n  line-height: 40px;\n  cursor: pointer;\n  user-select: none;\n\n  &:before {\n    position: absolute;\n    top: 50%;\n    left: 20px;\n    box-sizing: border-box;\n    width: 20px;\n    height: 20px;\n    margin-top: -10px;\n    border: 1px solid #9abbce;\n    border-radius: 2px;\n    content: \"\";\n  }\n\n  &:hover {\n    background: #f1fcff;\n  }\n\n  ${Checkbox}:focus + & {\n    outline: -webkit-focus-ring-color auto 1px;\n  }\n\n  ${Checkbox}:checked + &:before {\n    background-image: url(\"data:image/svg+xml,%3Csvg fill='%232196F3' viewBox='0 0 12 8' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M4 8L0 4l1-1 3 3 7-6 1 1-8 7z' /%3E%3C/svg%3E%0A\");\n    background-repeat: no-repeat;\n    background-position: center;\n    background-size: 12px auto;\n    border-color: ${(props) => props.theme.color.blue};\n  }\n`;\n\nconst Filter = ({ stopsCount, handleChange }) => (\n  <Wrapper>\n    <Title>Количество пересадок</Title>\n    <Checkbox\n      id=\"all\"\n      name=\"all\"\n      type=\"checkbox\"\n      checked={stopsCount.all}\n      onChange={handleChange}\n    />\n    <Label htmlFor=\"all\">Все</Label>\n    <Checkbox\n      id=\"zero\"\n      name=\"0\"\n      type=\"checkbox\"\n      checked={stopsCount['0']}\n      onChange={handleChange}\n    />\n    <Label htmlFor=\"zero\">Без пересадок</Label>\n    <Checkbox\n      id=\"one\"\n      name=\"1\"\n      type=\"checkbox\"\n      checked={stopsCount['1']}\n      onChange={handleChange}\n    />\n    <Label htmlFor=\"one\">1 пересадка</Label>\n    <Checkbox\n      id=\"two\"\n      name=\"2\"\n      type=\"checkbox\"\n      checked={stopsCount['2']}\n      onChange={handleChange}\n    />\n    <Label htmlFor=\"two\">2 пересадки</Label>\n    <Checkbox\n      id=\"three\"\n      name=\"3\"\n      type=\"checkbox\"\n      checked={stopsCount['3']}\n      onChange={handleChange}\n    />\n    <Label htmlFor=\"three\">3 пересадки</Label>\n  </Wrapper>\n);\n\nexport default Filter;\n","/* eslint-disable react/prop-types */\nimport React from 'react';\nimport styled from 'styled-components';\n\nconst Fieldset = styled.fieldset`\n  margin-bottom: 20px;\n  padding: 0;\n  overflow: hidden;\n  border: 0;\n  border: 1px solid #dfe5ec;\n  border-radius: 5px;\n`;\n\nconst Radio = styled.input`\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  margin: -1px;\n  clip: rect(0 0 0 0);\n`;\n\nconst Label = styled.label`\n  position: relative;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  width: 50%;\n  height: 50px;\n  padding: 0;\n  color: ${(props) => props.theme.color.black};\n  font-size: 12px;\n  letter-spacing: .5px;\n  text-transform: uppercase;\n  background: ${(props) => props.theme.color.white};\n  border: 0;\n  cursor: pointer;\n\n  ${Radio}:checked + & {\n    color: ${(props) => props.theme.color.white};\n    background: ${(props) => props.theme.color.blue};\n  }\n`;\n\nconst Sort = ({ handleChange, sort }) => (\n  <Fieldset>\n    <Radio\n      id=\"cheapest\"\n      value=\"cheapest\"\n      type=\"radio\"\n      name=\"sort\"\n      onChange={handleChange}\n      checked={sort === 'cheapest'}\n    />\n    <Label htmlFor=\"cheapest\">Самый дешевый</Label>\n    <Radio\n      id=\"fastest\"\n      value=\"fastest\"\n      type=\"radio\"\n      name=\"sort\"\n      onChange={handleChange}\n      checked={sort === 'fastest'}\n    />\n    <Label htmlFor=\"fastest\">Самый быстрый</Label>\n  </Fieldset>\n);\n\nexport default Sort;\n","// @ts-check\n/* eslint-disable import/prefer-default-export */\nexport const convertToTime = (dateString) => {\n  const date = new Date(dateString);\n  const hours = date.getHours().toString().padStart(2, '0');\n  const minutes = date.getMinutes().toString().padStart(2, '0');\n  return `${hours}:${minutes}`;\n};\n\nexport const convertToDuration = (minutes) => {\n  const hours = Math.floor(minutes / 60);\n  const restMinutes = minutes - hours * 60;\n  const totalHours = hours ? `${hours}ч` : '';\n  const totalMinutes = restMinutes ? `${restMinutes}м` : '';\n  return `${totalHours} ${totalMinutes}`.trim();\n};\n","/* eslint-disable react/prop-types */\nimport React from 'react';\nimport uuid from 'react-uuid';\nimport styled from 'styled-components';\nimport { convertToTime, convertToDuration } from '../../utilities/date';\n\nconst formatPrice = (price) => (\n  new Intl.NumberFormat('ru-RU', { style: 'currency', currency: 'RUB' }).format(price).replace(',00', '')\n);\n\nconst Wrapper = styled.article`\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n  justify-content: space-between;\n  padding: 20px;\n  background: ${(props) => props.theme.color.white};\n  border-radius: 5px;\n  box-shadow: 0px 2px 8px rgba(0, 0, 0, .1);\n`;\n\nconst Price = styled.div`\n  color: ${(props) => props.theme.color.blue};\n  font-weight: 600;\n  font-size: 24px;\n`;\n\nconst Logo = styled.img`\n  max-width: 110px;\n  margin-right: 30px;\n\n  @media screen and (max-width: 700px) {\n    margin-right: 0;\n  }\n`;\n\nconst InfoList = styled.dl`\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  width: 100%;\n  font-weight: 600;\n  column-gap: 20px;\n\n  @media screen and (max-width: 700px) {\n    column-gap: 5px;\n  }\n`;\n\nconst InfoTitle = styled.dt`\n  color: ${(props) => props.theme.color.gullGray};\n  font-size: 12px;\n  letter-spacing: .5px;\n  text-transform: uppercase;\n\n  @media screen and (max-width: 700px) {\n    font-size: 10px;\n  }\n`;\n\nconst InfoDescription = styled.dd`\n  margin: 0;\n  color: ${(props) => props.theme.color.black};\n  font-size: 14px;\n\n  @media screen and (max-width: 700px) {\n    font-size: 12px;\n  }\n`;\n\nconst Ticket = ({ ticket }) => (\n  <Wrapper>\n    <Price>{formatPrice(ticket.price)}</Price>\n    <Logo src={`http://pics.avs.io/99/36/${ticket.carrier}.png`} alt=\"\" />\n    {ticket.segments.map((segment) => (\n      <InfoList key={uuid()}>\n        <div>\n          <InfoTitle>{[segment.origin, segment.destination].join(' - ')}</InfoTitle>\n          <InfoDescription>{convertToTime(segment.date)}</InfoDescription>\n        </div>\n        <div>\n          <InfoTitle>В пути</InfoTitle>\n          <InfoDescription>{convertToDuration(segment.duration)}</InfoDescription>\n        </div>\n        {/* TODO: при отсутствии пересадок в description написать \"Прямой\" */}\n        {segment.stops.length > 0\n          && (\n          <div>\n            <InfoTitle>\n              {/* TODO: add plural */}\n              {[segment.stops.length, 'пересадки'].join(' ')}\n            </InfoTitle>\n            <InfoDescription>{segment.stops.join(', ')}</InfoDescription>\n          </div>\n          )}\n      </InfoList>\n    ))}\n  </Wrapper>\n);\n\nexport default Ticket;\n","/* eslint-disable react/prop-types */\nimport React, { useEffect, useState } from 'react';\nimport uuid from 'react-uuid';\nimport styled from 'styled-components';\nimport axios from 'axios';\nimport Ticket from '../Ticket';\n\nconst COUNT_TICKETS_TO_SHOW = 5;\n\nconst Wrapper = styled.section`\n  display: grid;\n  row-gap: 20px;\n`;\n\nconst Tickets = (props) => {\n  const { searchId, params } = props;\n  const [tickets, setTickets] = useState([]);\n  const [displayedTickets, setDisplayedTickets] = useState([]);\n  const [finished, setFinished] = useState(false);\n\n  useEffect(() => {\n    const fetchTickets = async () => {\n      try {\n        const response = await axios.get(`https://front-test.beta.aviasales.ru/tickets?searchId=${searchId}`);\n        setTickets((prevTickets) => [...prevTickets, ...response.data.tickets]);\n        if (response?.data.stop) {\n          setFinished(true);\n        } else {\n          fetchTickets();\n        }\n      } catch (e) {\n        if (e.response.status === 500) {\n          fetchTickets();\n        }\n      }\n    };\n    fetchTickets();\n  }, []);\n\n  useEffect(() => {\n    setDisplayedTickets(() => (\n      tickets\n        .filter((ticket) => {\n          const ticketStopsCount = ticket.segments.map((segment) => segment.stops.length);\n          const paramsStopsCount = Object.entries(params.stopsCount)\n            .filter(([key, value]) => key !== 'all' && value)\n            .map(([key]) => Number(key));\n          // TODO: add abstract for intersection\n          const intersection = paramsStopsCount.filter(\n            (stopCount) => ticketStopsCount.includes(stopCount),\n          );\n          return intersection > 0;\n        })\n        .sort((a, b) => {\n          if (params.sort === 'cheapest') {\n            if (a.price < b.price) {\n              return -1;\n            }\n            if (a.price > b.price) {\n              return 1;\n            }\n            return 0;\n          }\n          const aDuration = a.segments.reduce((acc, { duration }) => acc + duration, 0);\n          const bDuration = b.segments.reduce((acc, { duration }) => acc + duration, 0);\n          if (aDuration < bDuration) {\n            return -1;\n          }\n          if (aDuration > bDuration) {\n            return 1;\n          }\n          return 0;\n        })\n        .slice(0, COUNT_TICKETS_TO_SHOW)\n    ));\n  }, [params, finished]);\n\n  if (!finished) {\n    // TODO: change to preloader\n    return (\n      <Wrapper>\n        Подождите...\n      </Wrapper>\n    );\n  }\n\n  return (\n    <Wrapper>\n      {/* TODO: add message for empty result */}\n      {displayedTickets.map((ticket) => <Ticket ticket={ticket} key={uuid()} />)}\n    </Wrapper>\n  );\n};\n\nexport default Tickets;\n","/* eslint-disable react/prop-types */\nimport React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport axios from 'axios';\nimport logo from './logo.png';\nimport Filter from './components/Filter';\nimport Sort from './components/Sort';\nimport Tickets from './components/Tickets';\n\n// TODO: transfer styles to separeted files\nconst StyledApp = styled.div`\n  display: grid;\n  grid-template-areas: \"header header\"\n    \"aside main\";\n  grid-template-columns: 230px 1fr;\n  align-content: start;\n  box-sizing: border-box;\n  max-width: 775px;\n  min-height: 100vh;\n  margin: 0 auto;\n  padding: 50px 20px 120px;\n  column-gap: 20px;\n  row-gap: 60px;\n\n  @media screen and (max-width: 700px) {\n    grid-template-areas: \"header\"\n      \"aside\"\n      \"main\";\n    grid-template-columns: 1fr;\n    row-gap: 20px;\n  }\n`;\n\nconst Header = styled.header`\n  display: flex;\n  grid-area: header;\n  justify-content: center;\n`;\n\nconst Main = styled.main`\n  grid-area: main;\n`;\n\nconst Aside = styled.aside`\n  grid-area: aside;\n`;\n\nconst App = () => {\n  const [searchId, setSearchId] = useState();\n  const [params, setParams] = useState({\n    sort: 'cheapest',\n    stopsCount: {\n      all: true,\n      0: true,\n      1: true,\n      2: true,\n      3: true,\n    },\n  });\n\n  useEffect(() => {\n    const fetchSearchId = async () => {\n      const response = await axios.get('https://front-test.beta.aviasales.ru/search');\n      setSearchId(response.data.searchId);\n    };\n    fetchSearchId();\n  }, []);\n\n  const handleSortChange = ({ target }) => {\n    setParams((prevParams) => ({ ...prevParams, sort: target.value }));\n  };\n\n  const handleFilterChange = ({ target }) => {\n    const { name, checked } = target;\n    setParams((prevParams) => {\n      const { stopsCount } = prevParams;\n      if (name === 'all') {\n        return {\n          ...prevParams,\n          stopsCount: {\n            all: checked,\n            0: checked,\n            1: checked,\n            2: checked,\n            3: checked,\n          },\n        };\n      }\n      const updatedStopsCount = { ...stopsCount, [name]: checked };\n      const all = Object.entries(updatedStopsCount)\n        .filter(([key]) => key !== 'all')\n        .every(([, value]) => value);\n      return { ...prevParams, stopsCount: { ...updatedStopsCount, all } };\n    });\n  };\n\n  if (!searchId) {\n    return null;\n  }\n\n  return (\n    <StyledApp>\n      <Header>\n        <img src={logo} alt=\"logo\" />\n      </Header>\n      <Main>\n        <Sort handleChange={handleSortChange} sort={params.sort} />\n        <Tickets params={params} searchId={searchId} />\n      </Main>\n      <Aside>\n        <Filter handleChange={handleFilterChange} stopsCount={params.stopsCount} />\n      </Aside>\n    </StyledApp>\n  );\n};\n\nexport default App;\n","export default \"data:image/png;base64,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\"","import React from 'react';\nimport { ThemeProvider } from 'styled-components';\n\nconst theme = {\n  color: {\n    black: '#4a4a4a',\n    blue: '#2196f3',\n    gullGray: '#a0b0b9',\n    white: '#fff',\n  },\n};\n\nconst Theme = ({ children }) => (\n  <ThemeProvider theme={theme}>{children}</ThemeProvider>\n);\n\nexport default Theme;\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({\n      getCLS, getFID, getFCP, getLCP, getTTFB,\n    }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport 'fontsource-open-sans/400-normal.css';\nimport 'fontsource-open-sans/600-normal.css';\nimport App from './App';\nimport ThemeProvider from './components/Theme/Theme';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <ThemeProvider>\n      <App />\n    </ThemeProvider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}
(this["webpackJsonpaviasales-test-assignment"]=this["webpackJsonpaviasales-test-assignment"]||[]).push([[0],{37:function(n,e,t){},58:function(n,e,t){"use strict";t.r(e);var r=t(0),a=t(1),c=t.n(a),o=t(28),i=t.n(o),s=(t(37),t(38),t(39),t(9)),u=t(6),p=t(7),d=t.n(p),b=t(10),l=t(5),f=t(2),j=t(3),h=t(12),x=t.n(h);function g(){var n=Object(f.a)(['\n  position: relative;\n  display: block;\n  box-sizing: border-box;\n  padding: 0 20px 0 50px;\n  color: #4a4a4a;\n  font-size: 13px;\n  line-height: 40px;\n  cursor: pointer;\n  user-select: none;\n\n  &:before {\n    position: absolute;\n    top: 50%;\n    left: 20px;\n    box-sizing: border-box;\n    width: 20px;\n    height: 20px;\n    margin-top: -10px;\n    border: 1px solid #9abbce;\n    border-radius: 2px;\n    content: "";\n  }\n\n  &:hover {\n    background: #f1fcff;\n  }\n\n  ',":focus + & {\n    outline: -webkit-focus-ring-color auto 1px;\n  }\n\n  ",':checked + &:before {\n    background-image: url("/images/checked.svg");\n    background-repeat: no-repeat;\n    background-position: center;\n    background-size: 12px auto;\n    border-color: #2196f3;\n  }\n']);return g=function(){return n},n}function O(){var n=Object(f.a)(["\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  margin: -1px;\n  clip: rect(0 0 0 0);\n"]);return O=function(){return n},n}function m(){var n=Object(f.a)(["\n  box-sizing: border-box;\n  margin: 0 0 20px;\n  padding: 0 20px;\n  color: #4a4a4a;\n  font-weight: 600;\n  font-size: 12px;\n  line-height: 1;\n  letter-spacing: .5px;\n  text-transform: uppercase;\n"]);return m=function(){return n},n}function v(){var n=Object(f.a)(["\n  padding: 20px 0;\n  background: #fff;\n  border-radius: 5px;\n  box-shadow: 0px 2px 8px rgba(0, 0, 0, .1);\n"]);return v=function(){return n},n}var k=j.a.section(v()),U=j.a.h2(m()),C=j.a.input(O()),w=j.a.label(g(),C,C),I=function(n){var e=n.stopsCount,t=n.handleChange;return Object(r.jsxs)(k,{children:[Object(r.jsx)(U,{children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a"}),Object(r.jsx)(C,{id:"all",name:"all",type:"checkbox",checked:e.all,onChange:t}),Object(r.jsx)(w,{htmlFor:"all",children:"\u0412\u0441\u0435"}),Object(r.jsx)(C,{id:"zero",name:"0",type:"checkbox",checked:e[0],onChange:t}),Object(r.jsx)(w,{htmlFor:"zero",children:"\u0411\u0435\u0437 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a"}),Object(r.jsx)(C,{id:"one",name:"1",type:"checkbox",checked:e[1],onChange:t}),Object(r.jsx)(w,{htmlFor:"one",children:"1 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0430"}),Object(r.jsx)(C,{id:"two",name:"2",type:"checkbox",checked:e[2],onChange:t}),Object(r.jsx)(w,{htmlFor:"two",children:"2 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438"}),Object(r.jsx)(C,{id:"three",name:"3",type:"checkbox",checked:e[3],onChange:t}),Object(r.jsx)(w,{htmlFor:"three",children:"3 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438"})]})};function Z(){var n=Object(f.a)(["\n  position: relative;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  width: 50%;\n  height: 50px;\n  padding: 0;\n  color: #4a4a4a;\n  font-size: 12px;\n  letter-spacing: .5px;\n  text-transform: uppercase;\n  background: #fff;\n  border: 0;\n  cursor: pointer;\n\n  ",":checked + & {\n    color: #fff;\n    background: #2196f3;\n  }\n"]);return Z=function(){return n},n}function E(){var n=Object(f.a)(["\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  margin: -1px;\n  clip: rect(0 0 0 0);\n"]);return E=function(){return n},n}function y(){var n=Object(f.a)(["\n  margin-bottom: 20px;\n  padding: 0;\n  overflow: hidden;\n  border: 0;\n  border: 1px solid #dfe5ec;\n  border-radius: 5px;\n"]);return y=function(){return n},n}var A=j.a.fieldset(y()),F=j.a.input(E()),S=j.a.label(Z(),F),z=function(n){var e=n.handleChange,t=n.sort;return Object(r.jsxs)(A,{children:[Object(r.jsx)(F,{id:"cheapest",value:"cheapest",type:"radio",name:"sort",onChange:e,checked:"cheapest"===t}),Object(r.jsx)(S,{htmlFor:"cheapest",children:"\u0421\u0430\u043c\u044b\u0439 \u0434\u0435\u0448\u0435\u0432\u044b\u0439"}),Object(r.jsx)(F,{id:"fastest",value:"fastest",type:"radio",name:"sort",onChange:e,checked:"fastest"===t}),Object(r.jsx)(S,{htmlFor:"fastest",children:"\u0421\u0430\u043c\u044b\u0439 \u0431\u044b\u0441\u0442\u0440\u044b\u0439"})]})},P=t(17),H=t(14),V=t.n(H),B=function(n){var e=new Date(n),t=e.getHours().toString().padStart(2,"0"),r=e.getMinutes().toString().padStart(2,"0");return"".concat(t,":").concat(r)},R=function(n){var e=Math.floor(n/60),t=n-60*e,r=e?"".concat(e,"\u0447"):"",a=t?"".concat(t,"\u043c"):"";return"".concat(r," ").concat(a).trim()};function T(){var n=Object(f.a)(["\n  margin: 0;\n  color: #4a4a4a;\n  font-size: 14px;\n"]);return T=function(){return n},n}function M(){var n=Object(f.a)(["\n  color: #a0b0b9;\n  font-size: 12px;\n  letter-spacing: .5px;\n  text-transform: uppercase;\n"]);return M=function(){return n},n}function N(){var n=Object(f.a)(["\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  width: 100%;\n  font-weight: 600;\n  column-gap: 20px;\n"]);return N=function(){return n},n}function Q(){var n=Object(f.a)(["\n  max-width: 110px;\n  margin-right: 30px;\n"]);return Q=function(){return n},n}function q(){var n=Object(f.a)(["\n  color: #2196f3;\n  font-weight: 600;\n  font-size: 24px;\n"]);return q=function(){return n},n}function J(){var n=Object(f.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n  justify-content: space-between;\n  padding: 20px;\n  background: #fff;\n  border-radius: 5px;\n  box-shadow: 0px 2px 8px rgba(0, 0, 0, .1);\n"]);return J=function(){return n},n}var Y=j.a.article(J()),X=j.a.div(q()),K=j.a.img(Q()),D=j.a.dl(N()),L=j.a.dt(M()),W=j.a.dd(T()),G=function(n){var e,t=n.ticket;return Object(r.jsxs)(Y,{children:[Object(r.jsx)(X,{children:(e=t.price,new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB"}).format(e).replace(",00",""))}),Object(r.jsx)(K,{src:"http://pics.avs.io/99/36/".concat(t.carrier,".png"),alt:""}),t.segments.map((function(n){return Object(r.jsxs)(D,{children:[Object(r.jsxs)("div",{children:[Object(r.jsx)(L,{children:[n.origin,n.destination].join(" - ")}),Object(r.jsx)(W,{children:B(n.date)})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)(L,{children:"\u0412 \u043f\u0443\u0442\u0438"}),Object(r.jsx)(W,{children:R(n.duration)})]}),n.stops.length>0&&Object(r.jsxs)("div",{children:[Object(r.jsx)(L,{children:[n.stops.length,"\u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438"].join(" ")}),Object(r.jsx)(W,{children:n.stops.join(", ")})]})]},V()())}))]})};function $(){var n=Object(f.a)(["\n  display: grid;\n  row-gap: 20px;\n"]);return $=function(){return n},n}var _=j.a.section($()),nn=function(n){var e=n.searchId,t=n.params,c=Object(a.useState)([]),o=Object(l.a)(c,2),i=o[0],s=o[1],u=Object(a.useState)([]),p=Object(l.a)(u,2),f=p[0],j=p[1],h=Object(a.useState)(!1),g=Object(l.a)(h,2),O=g[0],m=g[1];return Object(a.useEffect)((function(){var n=function(){var t=Object(b.a)(d.a.mark((function t(){var r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.a.get("https://front-test.beta.aviasales.ru/tickets?searchId=".concat(e));case 3:r=t.sent,s((function(n){return[].concat(Object(P.a)(n),Object(P.a)(r.data.tickets))})),(null===r||void 0===r?void 0:r.data.stop)?m(!0):n(),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),500===t.t0.response.status&&n();case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}();n()}),[]),Object(a.useEffect)((function(){j((function(){return i.filter((function(n){var e=n.segments.map((function(n){return n.stops.length}));return Object.entries(t.stopsCount).filter((function(n){var e=Object(l.a)(n,2),t=e[0],r=e[1];return"all"!==t&&r})).map((function(n){var e=Object(l.a)(n,1)[0];return Number(e)})).filter((function(n){return e.includes(n)}))>0})).sort((function(n,e){if("cheapest"===t.sort)return n.price<e.price?-1:n.price>e.price?1:0;var r=n.segments.reduce((function(n,e){return n+e.duration}),0),a=e.segments.reduce((function(n,e){return n+e.duration}),0);return r<a?-1:r>a?1:0})).slice(0,5)}))}),[t,O]),O?Object(r.jsx)(_,{children:f.map((function(n){return Object(r.jsx)(G,{ticket:n},V()())}))}):Object(r.jsx)(_,{children:"\u041f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435..."})};function en(){var n=Object(f.a)(["\n  grid-area: aside;\n"]);return en=function(){return n},n}function tn(){var n=Object(f.a)(["\n  grid-area: main;\n"]);return tn=function(){return n},n}function rn(){var n=Object(f.a)(["\n  display: flex;\n  grid-area: header;\n  justify-content: center;\n"]);return rn=function(){return n},n}function an(){var n=Object(f.a)(['\n  display: grid;\n  grid-template-areas: "header header"\n    "aside main";\n  grid-template-columns: 230px 1fr;\n  align-content: start;\n  box-sizing: border-box;\n  max-width: 755px;\n  min-height: 100vh;\n  margin: 0 auto;\n  padding: 50px 0 120px;\n  column-gap: 20px;\n  row-gap: 60px;\n']);return an=function(){return n},n}var cn=j.a.div(an()),on=j.a.header(rn()),sn=j.a.main(tn()),un=j.a.aside(en()),pn=function(){var n=Object(a.useState)(),e=Object(l.a)(n,2),t=e[0],c=e[1],o=Object(a.useState)({sort:"cheapest",stopsCount:{all:!0,0:!0,1:!0,2:!0,3:!0}}),i=Object(l.a)(o,2),p=i[0],f=i[1];Object(a.useEffect)((function(){(function(){var n=Object(b.a)(d.a.mark((function n(){var e;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,x.a.get("https://front-test.beta.aviasales.ru/search");case 2:e=n.sent,c(e.data.searchId);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}})()()}),[]);return t?Object(r.jsxs)(cn,{children:[Object(r.jsx)(on,{children:Object(r.jsx)("img",{src:"data:image/png;base64,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",alt:"logo"})}),Object(r.jsxs)(sn,{children:[Object(r.jsx)(z,{handleChange:function(n){var e=n.target;f((function(n){return Object(u.a)(Object(u.a)({},n),{},{sort:e.value})}))},sort:p.sort}),Object(r.jsx)(nn,{params:p,searchId:t})]}),Object(r.jsx)(un,{children:Object(r.jsx)(I,{handleChange:function(n){var e=n.target,t=e.name,r=e.checked;f((function(n){var e=n.stopsCount;if("all"===t)return Object(u.a)(Object(u.a)({},n),{},{stopsCount:{all:r,0:r,1:r,2:r,3:r}});var a=Object(u.a)(Object(u.a)({},e),{},Object(s.a)({},t,r)),c=Object.entries(a).filter((function(n){return"all"!==Object(l.a)(n,1)[0]})).every((function(n){return Object(l.a)(n,2)[1]}));return Object(u.a)(Object(u.a)({},n),{},{stopsCount:Object(u.a)(Object(u.a)({},a),{},{all:c})})}))},stopsCount:p.stopsCount})})]}):null},dn=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,59)).then((function(e){var t=e.getCLS,r=e.getFID,a=e.getFCP,c=e.getLCP,o=e.getTTFB;t(n),r(n),a(n),c(n),o(n)}))};i.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(pn,{})}),document.getElementById("root")),dn()}},[[58,1,2]]]);
//# sourceMappingURL=main.ac21aaf4.chunk.js.map